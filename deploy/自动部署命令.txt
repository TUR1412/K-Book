cd /home

# ⚠️ 注意：以下命令会影响服务器 Docker 运行环境，请在确认影响范围后执行。

# 停止并删除当前运行的 Docker Compose 服务（按需）
docker compose down

# 如需“清空环境”请谨慎开启（可能误删其他业务容器/镜像）
# docker rm -f $(docker ps -aq)
# docker rmi -f $(docker images -q)

# 登录到 Docker 仓库（请勿在仓库中保存明文口令/Token）
# 建议使用环境变量注入：REGISTRY_USER / REGISTRY_TOKEN
docker login -u "$REGISTRY_USER" -p "$REGISTRY_TOKEN" serverless-100015709299-docker.pkg.coding.net

# 从 Docker 仓库拉取最新的云库应用镜像 需要替换
docker pull serverless-100015709299-docker.pkg.coding.net/yunshangtushuguan/myapp/cloudlibrary:latest

# 将拉取的镜像标记为本地可用的简单名称 需要替换
docker tag serverless-100015709299-docker.pkg.coding.net/yunshangtushuguan/myapp/cloudlibrary:latest cloudlibrary:latest

# 以后台模式启动 Docker Compose 服务
docker compose up -d
